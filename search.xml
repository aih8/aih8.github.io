<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>React 父子组件生命周期触发顺序</title>
    <url>/2021/07/09/React%20%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%A7%A6%E5%8F%91%E9%A1%BA%E5%BA%8F/</url>
    <content><![CDATA[<h1 id="React-父子组件生命周期触发顺序"><a href="#React-父子组件生命周期触发顺序" class="headerlink" title="React 父子组件生命周期触发顺序"></a>React 父子组件生命周期触发顺序</h1><table>
<thead>
<tr>
<th>生命周期函数</th>
<th>父组件</th>
<th>子组件</th>
</tr>
</thead>
<tbody><tr>
<td>UNSAFE_componentWillMount</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>getDerivedStateFromProps</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>componentDidMount</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>shouldComponentUpdate</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>getSnapshotBeforeUpdate</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>componentDidUpdate</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>componentWillUnmount</td>
<td>1</td>
<td>2</td>
</tr>
</tbody></table>
<h3 id="父子组件生命周期log日志"><a href="#父子组件生命周期log日志" class="headerlink" title="父子组件生命周期log日志"></a>父子组件生命周期log日志</h3><pre><code>child    getDerivedStateFromProps    父组件触发 getDerivedStateFromProps
Grandson getDerivedStateFromProps    子组件触发 getDerivedStateFromProps
child    UNSAFE_componentWillMount   父组件触发 UNSAFE_componentWillMount
Grandson UNSAFE_componentWillMount   子组件触发 UNSAFE_componentWillMount
Grandson componentDidMount           子组件触发 componentDidMount
child    componentDidMount           父组件触发 componentDidMount
child    getDerivedStateFromProps    父组件触发 getDerivedStateFromProps
child    shouldComponentUpdate       父组件触发 shouldComponentUpdate
Grandson getDerivedStateFromProps    子组件触发 getDerivedStateFromProps
Grandson shouldComponentUpdate       子组件触发 shouldComponentUpdate
Grandson getSnapshotBeforeUpdate     子组件触发 getSnapshotBeforeUpdate
child    getSnapshotBeforeUpdate     父组件触发 getSnapshotBeforeUpdate
Grandson componentDidUpdate          子组件触发 componentDidUpdate
child    componentDidUpdate          父组件触发 componentDidUpdate
child    componentWillUnmount        父组件触发 componentWillUnmount
Grandson componentWillUnmount        子组件触发 componentWillUnmount
</code></pre>
]]></content>
      <tags>
        <tag>React</tag>
        <tag>生命周期</tag>
      </tags>
  </entry>
  <entry>
    <title>Proxy 和 defineProperty 的比较</title>
    <url>/2021/07/08/defineProperty%E5%92%8CProxy%E6%AF%94%E8%BE%83/</url>
    <content><![CDATA[<h2 id="Proxy-和-defineProperty-的比较"><a href="#Proxy-和-defineProperty-的比较" class="headerlink" title="Proxy 和 defineProperty 的比较"></a>Proxy 和 defineProperty 的比较</h2><h3 id="可拦截属性的比较"><a href="#可拦截属性的比较" class="headerlink" title="可拦截属性的比较"></a>可拦截属性的比较</h3><table>
<thead>
<tr>
<th>属性</th>
<th>defineProperty</th>
<th>Proxy</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>get</td>
<td>支持</td>
<td>支持</td>
<td>(target, propKey, receiver)<br/>拦截对象属性的读取，比如 proxy.foo 和proxy[‘foo’]。</td>
</tr>
<tr>
<td>set</td>
<td>支持</td>
<td>支持</td>
<td>(target, propKey, value, receiver)<br/>拦截对象属性的设置，比如proxy.foo &#x3D; v 或 proxy[‘foo’] &#x3D; v，返回一个布尔值。</td>
</tr>
<tr>
<td>has</td>
<td>不支持</td>
<td>支持</td>
<td>(target, propKey)<br/>拦截 propKey in proxy 的操作，返回一个布尔值。</td>
</tr>
<tr>
<td>deleteProperty</td>
<td>不支持</td>
<td>支持</td>
<td>(target, propKey)<br/>拦截 delete proxy[propKey] 的操作，返回一个布尔值。</td>
</tr>
<tr>
<td>ownKeys</td>
<td>不支持</td>
<td>支持</td>
<td>(target)<br/>拦截Object.getOwnPropertyNames(proxy)、Object.getOwnPropertySymbols(proxy)、Object.keys(proxy)、for…in循环，返回一个数组。该方法返回目标对象所有自身的属性的属性名，而 Object.keys() 的返回结果仅包括目标对象自身的可遍历属性。</td>
</tr>
<tr>
<td>getOwnPropertyDescriptor</td>
<td>不支持</td>
<td>支持</td>
<td>(target, propKey)<br/>拦截Object.getOwnPropertyDescriptor(proxy, propKey)，返回属性的描述对象。</td>
</tr>
<tr>
<td>defineProperty</td>
<td>不支持</td>
<td>支持</td>
<td>(target, propKey, propDesc)<br/>拦截Object.defineProperty(proxy, propKey, propDesc）、Object.defineProperties(proxy, propDescs)，返回一个布尔值。</td>
</tr>
<tr>
<td>preventExtensions</td>
<td>不支持</td>
<td>支持</td>
<td>(target)<br/>拦截 Object.preventExtensions(proxy)，返回一个布尔值。</td>
</tr>
<tr>
<td>getPrototypeOf</td>
<td>不支持</td>
<td>支持</td>
<td>(target)<br/>拦截 Object.getPrototypeOf(proxy)，返回一个对象。</td>
</tr>
<tr>
<td>isExtensible</td>
<td>不支持</td>
<td>支持</td>
<td>(target)<br/>拦截 Object.isExtensible(proxy)，返回一个布尔值。</td>
</tr>
<tr>
<td>setPrototypeOf</td>
<td>不支持</td>
<td>支持</td>
<td>(target, proto)<br/>拦截 Object.setPrototypeOf(proxy, proto)，返回一个布尔值。如果目标对象是函数，那么还有两种额外操作可以拦截。</td>
</tr>
<tr>
<td>apply</td>
<td>不支持</td>
<td>支持</td>
<td>(target, object, args)<br/>拦截 Proxy 实例作为函数调用的操作，比如proxy(…args)、proxy.call(object, …args)、proxy.apply(…)。</td>
</tr>
<tr>
<td>construct</td>
<td>不支持</td>
<td>支持</td>
<td>(target, args)<br/>拦截 Proxy 实例作为构造函数调用的操作，比如new proxy(…args)。</td>
</tr>
</tbody></table>
<br />
## 兼容性的比较
<style type="text/css">
    .bc-table-web .bc-browser-name, .bc-table-web .bc-level-yes, .bc-table-web .bc-level-no, .bc-history-link, abbr.only-icon {
        display: none
    }
    .bc-supports-yes {
        background-color: #ebf8e1;
    }
    .bc-supports-no {
        background-color: #ffbdbd;
    }
</style>
### proxy的兼容性如下
<table class="bc-table bc-table-web"><thead><tr class="bc-platforms"><td></td><th class="bc-platform-desktop" colspan="6"><span>desktop</span></th><th class="bc-platform-mobile" colspan="6"><span>mobile</span></th><th class="bc-platform-server" colspan="1"><span>server</span></th></tr><tr class="bc-browsers"><td></td><th class="bc-browser-chrome"><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th><th class="bc-browser-edge"><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th><th class="bc-browser-firefox"><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th><th class="bc-browser-ie"><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th><th class="bc-browser-opera"><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th><th class="bc-browser-safari"><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th><th class="bc-browser-webview_android"><span class="bc-head-txt-label bc-head-icon-webview_android">WebView Android</span></th><th class="bc-browser-chrome_android"><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome Android</span></th><th class="bc-browser-firefox_android"><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th><th class="bc-browser-opera_android"><span class="bc-head-txt-label bc-head-icon-opera_android">Opera Android</span></th><th class="bc-browser-safari_ios"><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th><th class="bc-browser-samsunginternet_android"><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th><th class="bc-browser-nodejs"><span class="bc-head-txt-label bc-head-icon-nodejs">Node.js</span></th></tr></thead><tbody><tr><th scope="row"><div class="bc-table-row-header"><code>Proxy</code></div></th><td class="bc-browser-chrome bc-supports-yes " aria-expanded="false" title="Released 2016-03-02"><span class="bc-browser-name">Chrome</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-edge bc-supports-yes " aria-expanded="false" title="Released 2015-07-28"><span class="bc-browser-name">Edge</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>12<div class="bc-icons"></div></td><td class="bc-browser-firefox bc-supports-yes " aria-expanded="false" title="Released 2013-01-08"><span class="bc-browser-name">Firefox</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>18<div class="bc-icons"></div></td><td class="bc-browser-ie bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Internet Explorer</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr>No<div class="bc-icons"></div></td><td class="bc-browser-opera bc-supports-yes " aria-expanded="false" title="Released 2016-03-15"><span class="bc-browser-name">Opera</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>36<div class="bc-icons"></div></td><td class="bc-browser-safari bc-supports-yes " aria-expanded="false" title="Released 2016-09-20"><span class="bc-browser-name">Safari</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-webview_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-09"><span class="bc-browser-name">WebView Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-chrome_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-09"><span class="bc-browser-name">Chrome Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-firefox_android bc-supports-yes " aria-expanded="false" title="Released 2013-01-08"><span class="bc-browser-name">Firefox for Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>18<div class="bc-icons"></div></td><td class="bc-browser-opera_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-31"><span class="bc-browser-name">Opera Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>36<div class="bc-icons"></div></td><td class="bc-browser-safari_ios bc-supports-yes " aria-expanded="false" title="Released 2016-09-13"><span class="bc-browser-name">Safari on iOS</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-samsunginternet_android bc-supports-yes " aria-expanded="false" title="Released 2016-12-15"><span class="bc-browser-name">Samsung Internet</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>5.0<div class="bc-icons"></div></td><td class="bc-browser-nodejs bc-supports-yes " aria-expanded="false" title="Released 2016-04-26"><span class="bc-browser-name">Node.js</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>6.0.0<div class="bc-icons"></div></td></tr><tr><th scope="row"><a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy" class="bc-table-row-header"><span><code>Proxy()</code> constructor</span></a></th><td class="bc-browser-chrome bc-supports-yes " aria-expanded="false" title="Released 2016-03-02"><span class="bc-browser-name">Chrome</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-edge bc-supports-yes " aria-expanded="false" title="Released 2015-07-28"><span class="bc-browser-name">Edge</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>12<div class="bc-icons"></div></td><td class="bc-browser-firefox bc-supports-yes " aria-expanded="false" title="Released 2013-01-08"><span class="bc-browser-name">Firefox</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>18<div class="bc-icons"></div></td><td class="bc-browser-ie bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Internet Explorer</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr>No<div class="bc-icons"></div></td><td class="bc-browser-opera bc-supports-yes " aria-expanded="false" title="Released 2016-03-15"><span class="bc-browser-name">Opera</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>36<div class="bc-icons"></div></td><td class="bc-browser-safari bc-supports-yes " aria-expanded="false" title="Released 2016-09-20"><span class="bc-browser-name">Safari</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-webview_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-09"><span class="bc-browser-name">WebView Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-chrome_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-09"><span class="bc-browser-name">Chrome Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>49<div class="bc-icons"></div></td><td class="bc-browser-firefox_android bc-supports-yes " aria-expanded="false" title="Released 2013-01-08"><span class="bc-browser-name">Firefox for Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>18<div class="bc-icons"></div></td><td class="bc-browser-opera_android bc-supports-yes " aria-expanded="false" title="Released 2016-03-31"><span class="bc-browser-name">Opera Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>36<div class="bc-icons"></div></td><td class="bc-browser-safari_ios bc-supports-yes " aria-expanded="false" title="Released 2016-09-13"><span class="bc-browser-name">Safari on iOS</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-samsunginternet_android bc-supports-yes " aria-expanded="false" title="Released 2016-12-15"><span class="bc-browser-name">Samsung Internet</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>5.0<div class="bc-icons"></div></td><td class="bc-browser-nodejs bc-supports-yes " aria-expanded="false" title="Released 2016-04-26"><span class="bc-browser-name">Node.js</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>6.0.0<div class="bc-icons"></div></td></tr><tr><th scope="row"><a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/revocable" class="bc-table-row-header"><code>revocable</code></a></th><td class="bc-browser-chrome bc-supports-yes " aria-expanded="false" title="Released 2017-12-06"><span class="bc-browser-name">Chrome</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>63<div class="bc-icons"></div></td><td class="bc-browser-edge bc-supports-yes " aria-expanded="false" title="Released 2015-07-28"><span class="bc-browser-name">Edge</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>12<div class="bc-icons"></div></td><td class="bc-browser-firefox bc-supports-yes " aria-expanded="false" title="Released 2014-12-01"><span class="bc-browser-name">Firefox</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>34<div class="bc-icons"></div></td><td class="bc-browser-ie bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Internet Explorer</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr>No<div class="bc-icons"></div></td><td class="bc-browser-opera bc-supports-yes " aria-expanded="false" title="Released 2018-01-04"><span class="bc-browser-name">Opera</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>50<div class="bc-icons"></div></td><td class="bc-browser-safari bc-supports-yes " aria-expanded="false" title="Released 2016-09-20"><span class="bc-browser-name">Safari</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-webview_android bc-supports-yes " aria-expanded="false" title="Released 2017-12-05"><span class="bc-browser-name">WebView Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>63<div class="bc-icons"></div></td><td class="bc-browser-chrome_android bc-supports-yes " aria-expanded="false" title="Released 2017-12-05"><span class="bc-browser-name">Chrome Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>63<div class="bc-icons"></div></td><td class="bc-browser-firefox_android bc-supports-yes " aria-expanded="false" title="Released 2014-12-01"><span class="bc-browser-name">Firefox for Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>34<div class="bc-icons"></div></td><td class="bc-browser-opera_android bc-supports-yes " aria-expanded="false" title="Released 2018-05-14"><span class="bc-browser-name">Opera Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>46<div class="bc-icons"></div></td><td class="bc-browser-safari_ios bc-supports-yes " aria-expanded="false" title="Released 2016-09-13"><span class="bc-browser-name">Safari on iOS</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>10<div class="bc-icons"></div></td><td class="bc-browser-samsunginternet_android bc-supports-yes " aria-expanded="false" title="Released 2018-07-18"><span class="bc-browser-name">Samsung Internet</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>8.0<div class="bc-icons"></div></td><td class="bc-browser-nodejs bc-supports-yes " aria-expanded="false" title="Released 2016-04-26"><span class="bc-browser-name">Node.js</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>6.0.0<div class="bc-icons"></div></td></tr></tbody></table>

<br />
### defineProperty兼容性如下
<table class="bc-table bc-table-web"><thead><tr class="bc-platforms"><td></td><th class="bc-platform-desktop" colspan="6"><span>desktop</span></th><th class="bc-platform-mobile" colspan="6"><span>mobile</span></th><th class="bc-platform-server" colspan="1"><span>server</span></th></tr><tr class="bc-browsers"><td></td><th class="bc-browser-chrome"><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th><th class="bc-browser-edge"><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th><th class="bc-browser-firefox"><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th><th class="bc-browser-ie"><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th><th class="bc-browser-opera"><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th><th class="bc-browser-safari"><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th><th class="bc-browser-webview_android"><span class="bc-head-txt-label bc-head-icon-webview_android">WebView Android</span></th><th class="bc-browser-chrome_android"><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome Android</span></th><th class="bc-browser-firefox_android"><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th><th class="bc-browser-opera_android"><span class="bc-head-txt-label bc-head-icon-opera_android">Opera Android</span></th><th class="bc-browser-safari_ios"><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th><th class="bc-browser-samsunginternet_android"><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th><th class="bc-browser-nodejs"><span class="bc-head-txt-label bc-head-icon-nodejs">Node.js</span></th></tr></thead><tbody><tr><th scope="row"><div class="bc-table-row-header"><code>defineProperty</code></div></th><td class="bc-browser-chrome bc-supports-yes " aria-expanded="false" title="Released 2010-05-25"><span class="bc-browser-name">Chrome</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>5<div class="bc-icons"></div></td><td class="bc-browser-edge bc-supports-yes " aria-expanded="false" title="Released 2015-07-28"><span class="bc-browser-name">Edge</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>12<div class="bc-icons"></div></td><td class="bc-browser-firefox bc-supports-yes " aria-expanded="false" title="Released 2011-03-22"><span class="bc-browser-name">Firefox</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>4<div class="bc-icons"></div></td><td class="bc-browser-ie bc-supports-yes bc-has-history" aria-expanded="false" tabindex="0" title="Released 2011-03-14"><span class="bc-browser-name">Internet Explorer</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>9<div class="bc-icons"></div><button type="button" title="Open implementation notes" class="bc-history-link only-icon "><span>Open</span><i class="ic-history" aria-hidden="true"></i></button></td><td class="bc-browser-opera bc-supports-yes " aria-expanded="false" title="Released 2011-12-06"><span class="bc-browser-name">Opera</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>11.6<div class="bc-icons"></div></td><td class="bc-browser-safari bc-supports-yes bc-has-history" aria-expanded="false" tabindex="0" title="Released 2011-07-20"><span class="bc-browser-name">Safari</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>5.1<div class="bc-icons"><abbr class="only-icon" title="footnote"><span>footnote</span><i class="ic-footnote"></i></abbr></div><button type="button" title="Open implementation notes" class="bc-history-link only-icon "><span>Open</span><i class="ic-history" aria-hidden="true"></i></button></td><td class="bc-browser-webview_android bc-supports-yes " aria-expanded="false" title="Released 2008-09-23"><span class="bc-browser-name">WebView Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>1<div class="bc-icons"></div></td><td class="bc-browser-chrome_android bc-supports-yes " aria-expanded="false" title="Released 2012-06-27"><span class="bc-browser-name">Chrome Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>18<div class="bc-icons"></div></td><td class="bc-browser-firefox_android bc-supports-yes " aria-expanded="false" title="Released 2011-03-29"><span class="bc-browser-name">Firefox for Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>4<div class="bc-icons"></div></td><td class="bc-browser-opera_android bc-supports-yes " aria-expanded="false" title="Released 2012-02-25"><span class="bc-browser-name">Opera Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>12<div class="bc-icons"></div></td><td class="bc-browser-safari_ios bc-supports-yes bc-has-history" aria-expanded="false" tabindex="0" title="Released 2012-09-10"><span class="bc-browser-name">Safari on iOS</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>6<div class="bc-icons"><abbr class="only-icon" title="footnote"><span>footnote</span><i class="ic-footnote"></i></abbr></div><button type="button" title="Open implementation notes" class="bc-history-link only-icon "><span>Open</span><i class="ic-history" aria-hidden="true"></i></button></td><td class="bc-browser-samsunginternet_android bc-supports-yes " aria-expanded="false" title="Released 2013-04-27"><span class="bc-browser-name">Samsung Internet</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>1.0<div class="bc-icons"></div></td><td class="bc-browser-nodejs bc-supports-yes " aria-expanded="false" title="Released 2013-03-11"><span class="bc-browser-name">Node.js</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr>0.10.0<div class="bc-icons"></div></td></tr></tbody></table>

<br />

<h1 id="使用总结"><a href="#使用总结" class="headerlink" title="使用总结"></a>使用总结</h1><ul>
<li>Object.defineProperty 并非不能监控数组下标的变化(vue2中不能通过下标的方式更新数组)</li>
<li>Object.defineProperty 对属性的劫持需要深度遍历,新增属性需要手动Observe</li>
<li>Proxy 可以使用业务场景和支持的API更多和全面</li>
<li>Proxy 作为新标准,后续会有持续的性能优化</li>
<li><span style="color: #ffbdbd">Proxy 兼容性是硬伤,在对兼容性有要求的业务场景下无法使用</span></li>
</ul>
]]></content>
      <tags>
        <tag>Vue</tag>
        <tag>Proxy</tag>
        <tag>defineProperty</tag>
      </tags>
  </entry>
  <entry>
    <title>更新每日疫情数据</title>
    <url>/2021/04/23/echart-report-daily/</url>
    <content><![CDATA[<h2 id="更新每日疫情数据"><a href="#更新每日疫情数据" class="headerlink" title="更新每日疫情数据"></a>更新每日疫情数据</h2><h5 id="工作重点"><a href="#工作重点" class="headerlink" title="工作重点"></a>工作重点</h5><ul>
<li>查看echart的相关api</li>
<li>如何获取每日疫情数据（使用node执行js脚本，配合github的actions定时任务完成）</li>
<li>整合数据和图表，形成完整的功能</li>
</ul>
<p><a href="/outlet/echart-report.html">疫情每日数据demo地址</a></p>
 <iframe
 height="600px"
 width="100%"
 src="/outlet/echart-report.html"
 frameborder="0"
 allowfullscreen></iframe>
]]></content>
      <tags>
        <tag>疫情</tag>
      </tags>
  </entry>
  <entry>
    <title>gitlab &amp;&amp; github actions 开发小功能</title>
    <url>/2020/06/30/github-actions(gitlab-ci)%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="持续集成（Continuous-integration）"><a href="#持续集成（Continuous-integration）" class="headerlink" title="持续集成（Continuous integration）"></a>持续集成（Continuous integration）</h2><p>频繁地向一个共享仓库提交少量代码变更的软件开发实践。 使用 GitHub Actions，可以创建自定义的 CI 工作流，以自动构建并测试你的代码。 从你的仓库中，你可以查看代码变更的状态和工作流中每个操作的详细日志。 CI 通过提供代码变更的及时反馈来更快地检测并解决 bugs，从而节省开发人员的时间。</p>
<h2 id="持续部署（Continuous-deployment）"><a href="#持续部署（Continuous-deployment）" class="headerlink" title="持续部署（Continuous deployment）"></a>持续部署（Continuous deployment）</h2><p>持续部署建立在持续集成的基础上。 当提交新代码和通过你的 CI 测试时，代码将自动部署到生产环境中。 使用 GitHub Actions，可以创建自定义的 CD 工作流，以便从你的仓库自动部署代码到任何云、自托管服务或平台。 CD 通过自动化部署过程节省开发人员的时间，并更快地向你的客户部署经过测试的、稳定的代码变更。</p>
<h2 id="GitHub-Actions-的一些术语"><a href="#GitHub-Actions-的一些术语" class="headerlink" title="GitHub Actions 的一些术语"></a>GitHub Actions 的一些术语</h2><ul>
<li><p>workflow （工作流程）<br>持续集成一次运行的过程，就是一个 workflow</p>
</li>
<li><p>job （任务）<br>一个 workflow 由一个或多个 jobs 构成，含义是一次持续集成的运行，可以完成多个任务</p>
</li>
<li><p>step（步骤）：<br>每个 job 由多个 step 构成，一步步完成。 一个工作中的每个步骤都在相同的虚拟环境中执行，从而允许使用文件系统共享信息</p>
</li>
<li><p>action （动作）：<br>每个 step 可以依次执行一个或多个命令（action）。 你可以创建自己的action、使用 GitHub 社区共享的action</p>
</li>
</ul>
<h2 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h2><p>上述的内容是任务的组成，以及可以达成的目标</p>
<ul>
<li>监听到git事件时，可手动或自动执行任务（编译、测试、打包、部署等）</li>
<li>设置为定时任务，自动执行</li>
</ul>
<h2 id="使用该功能可以实现的功能："><a href="#使用该功能可以实现的功能：" class="headerlink" title="使用该功能可以实现的功能："></a>使用该功能可以实现的功能：</h2><ul>
<li><input checked="" disabled="" type="checkbox"> 完成项目的打包、编译、部署</li>
<li><input disabled="" type="checkbox"> 定时发送天气邮件</li>
<li><input disabled="" type="checkbox"> 定时发送小说的更新章节</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>github将博客迁移到子路径下</title>
    <url>/2021/04/25/github%E5%B0%86%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E5%88%B0%E5%AD%90%E8%B7%AF%E5%BE%84%E4%B8%8B/</url>
    <content><![CDATA[<h3 id="迁移流程"><a href="#迁移流程" class="headerlink" title="迁移流程"></a>迁移流程</h3><ol>
<li>在github上新建blog仓库，将博客的仓库推送过去（git remote 的相关操作）</li>
</ol>
<pre><code class="shell">方法一：
git remote rm origin
git remote add origin [url]

方法二
git remote set-url origin [url]
</code></pre>
<ol start="2">
<li>修改_config.yaml文件，更新仓库地址、发布分支置为gh-pages以及下面的子目录配置</li>
</ol>
<pre><code class="shell">## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;
url: http://xxx.github.io/blog
root: /blog/

# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repo: git@github.com:xxx/blog.git
  branch: gh-pages
</code></pre>
<ol start="3">
<li>在github上的blog仓库中进行github pages的设置，发布分支置为gh-pages，目录为&#x2F;(root)</li>
<li>由于使用github actions进行博客编译，需要设置一些变量，页面路径Settings-&gt;Secret，进行参数同步</li>
</ol>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>迁移</tag>
        <tag>子路径</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/09/27/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;
</code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server
</code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate
</code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy
</code></pre>
<p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>learn something about hexo cli</title>
    <url>/2019/09/27/learn-something-about-hexo-cli/</url>
    <content><![CDATA[<h3 id="命令工具"><a href="#命令工具" class="headerlink" title="命令工具"></a>命令工具</h3><pre><code class="shell">// init
npm install -g hexo-cli
hexo init hexo-blog
cd hexo-blog
npm install

// 多端使用
npm install -g hexo-cli
git clone git@github.com:aih8/aih8.github.io.git --depth=1
cd aih8.github.io
npm i

// localhost server on 4200
npm start

// deploy &amp;&amp; git update hexo branch
npm run build
</code></pre>
]]></content>
      <tags>
        <tag>hexo-cli</tag>
      </tags>
  </entry>
  <entry>
    <title>react props.children 探索</title>
    <url>/2021/07/09/react%20props.children%20%E6%8E%A2%E7%B4%A2/</url>
    <content><![CDATA[<h1 id="react-props-children-探索"><a href="#react-props-children-探索" class="headerlink" title="react props.children 探索"></a>react props.children 探索</h1><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>props.children的数据类型包括:</p>
<ul>
<li>undefined</li>
<li>string</li>
<li>object (ReactElement)</li>
<li>function</li>
<li>array: (string|ReactElement|function)[]</li>
</ul>
<h3 id="undefind"><a href="#undefind" class="headerlink" title="undefind"></a>undefind</h3><pre><code class="javascript">import React from &quot;react&quot;;

class Child extends React.Component &#123;
  render() &#123;
    const &#123; children &#125; = this.props;
    console.log(&quot;children: &quot;, typeof children, children); // children:  &#39;undefined&#39; undefined
    return &lt;div className=&quot;child&quot;&gt;&#123;children&#125;&lt;/div&gt;;
  &#125;
&#125;

export default function App() &#123;
  return (
    &lt;div&gt;
      &lt;Child&gt;&lt;/Child&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><pre><code class="javascript">import React from &quot;react&quot;;

class Child extends React.Component &#123;
  render() &#123;
    const &#123; children &#125; = this.props;
    console.log(&quot;children: &quot;, typeof children, children); // children:  &#39;string&#39; 131231
    return &lt;div className=&quot;child&quot;&gt;&#123;children&#125;&lt;/div&gt;;
  &#125;
&#125;

export default function App() &#123;
  return (
    &lt;div&gt;
      &lt;Child&gt;131231&lt;/Child&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
<h3 id="object"><a href="#object" class="headerlink" title="object"></a>object</h3><pre><code class="javascript">import React from &quot;react&quot;;

class Child extends React.Component &#123;
  render() &#123;
    const &#123; children &#125; = this.props;
    console.log(&quot;children: &quot;, typeof children, children); // children:  &#39;object&#39;  &#123;$$typeof: Symbol(react.element), key: null, ref: null, props: &#123;…&#125;, type: ƒ, …&#125;
    return &lt;div className=&quot;child&quot;&gt;&#123;children&#125;&lt;/div&gt;;
  &#125;
&#125;

function Doll() &#123;
  return &lt;div&gt;This is a doll;&lt;/div&gt;;
&#125;

export default function App() &#123;
  return (
    &lt;div&gt;
      &lt;Child&gt;
        &lt;Doll/&gt;
      &lt;/Child&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
<h3 id="function"><a href="#function" class="headerlink" title="function"></a>function</h3><pre><code class="javascript">import React from &quot;react&quot;;

class Child extends React.Component &#123;
  render() &#123;
    const &#123; children, name &#125; = this.props;
    console.log(&quot;children: &quot;, typeof children, children); // children:  &#39;function&#39; arg1 =&gt; &#123; return &quot;hello &quot; + arg1; &#125;
    return &lt;div className=&quot;child&quot;&gt;&#123;children(name)&#125;&lt;/div&gt;;
  &#125;
&#125;

export default function App() &#123;
  return (
    &lt;div&gt;
      &lt;Child name=&quot;Tom&quot;&gt;
        &#123;(arg1) =&gt; &#123;
          return &quot;hello &quot; + arg1;
        &#125;&#125;
      &lt;/Child&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
<h3 id="array"><a href="#array" class="headerlink" title="array"></a>array</h3><pre><code class="javascript">import React from &quot;react&quot;;
console.log(React);

class Child extends React.Component &#123;
  render() &#123;
    const &#123; children, name &#125; = this.props;
    console.log(
      &quot;children: &quot;,
      typeof children, // &#39;object&#39;
      children instanceof Array, // true
      children // [ƒ, &quot;This is a Text;&quot;, &#123;…&#125;]
    );
    return (
      &lt;div className=&quot;child&quot;&gt;
        &#123;children[0](name)&#125;
        &lt;br/&gt;
        &#123;React.Children.map(children, (v, i) =&gt; &#123;
          console.log(&#39;---&gt;&#39;, typeof v, v, i); // 这里需要注意,React.Children.map函数会先过滤掉数组中的function类型数据
          if (typeof v === &quot;function&quot;) &#123;
            return v(name);
          &#125; else &#123;
            return v;
          &#125;
        &#125;)&#125;
      &lt;/div&gt;
    );
  &#125;
&#125;

function Doll() &#123;
  return &lt;div&gt;This is a doll;&lt;/div&gt;;
&#125;

export default function App() &#123;
  return (
    &lt;div&gt;
      &lt;Child name=&quot;Tom&quot;&gt;
        &#123;(arg1) =&gt; &#123;
          return &quot;hello &quot; + arg1;
        &#125;&#125;
        This is a Text;
        &lt;Doll /&gt;
      &lt;/Child&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
]]></content>
      <tags>
        <tag>React</tag>
        <tag>props.children</tag>
      </tags>
  </entry>
  <entry>
    <title>tips</title>
    <url>/2019/11/18/tips/</url>
    <content><![CDATA[<h2 id="如何解决国内下载-更新docker过慢的问题"><a href="#如何解决国内下载-更新docker过慢的问题" class="headerlink" title="如何解决国内下载|更新docker过慢的问题"></a>如何解决国内下载|更新docker过慢的问题</h2><p><a href="https://www.mf8.biz/install-docker-ce/">链接地址</a></p>
<h2 id="无vim命令时替换镜像源"><a href="#无vim命令时替换镜像源" class="headerlink" title="无vim命令时替换镜像源"></a>无vim命令时替换镜像源</h2><p><a href="https://mirrors.ustc.edu.cn/help/debian.html">链接地址</a></p>
<h2 id="ubuntu-源-替换"><a href="#ubuntu-源-替换" class="headerlink" title="ubuntu 源 替换"></a>ubuntu 源 替换</h2><p><a href="https://blog.csdn.net/xiangxianghehe/article/details/80112149">链接地址</a></p>
]]></content>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>指定github actions执行环境的node版本</title>
    <url>/2021/04/24/%E6%8C%87%E5%AE%9Agithub-actions%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83%E7%9A%84node%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<h2 id="指定github-actions执行环境的node版本"><a href="#指定github-actions执行环境的node版本" class="headerlink" title="指定github actions执行环境的node版本"></a>指定github actions执行环境的node版本</h2><p>很久没写blog了，最近写了个每日疫情的图表demo，发现使用github actions去更新blog失败，排查过程：</p>
<ul>
<li>推送blog源代码，能正常触发github actions的操作流程，未出现报错</li>
<li>浏览器打开博客地址，发现reponse的数据为空</li>
<li>github切换到博客项目的相应分支，文件都存在，貌似很正常，但是文件的size都为0</li>
<li>本地推送hexo编译好的内容是可以正常更新blog，浏览器打开为正常</li>
<li>怀疑是github actions中配置的环境问题，对比下发现node版本不同，本地12.x&#x2F;actions中14.x (github actions中默认使用的最新的，时间久了，就存在本地和actions中node版本存在差异的情况)</li>
<li>更新github actions中的配置，设置node版本为12.x，推送代码，博客展示正常</li>
<li>故可以确定是某个依赖在node14.x的环境下无法正常工作导致的异常</li>
</ul>
<br/>
<br/>
下面附上在github actions中设置node版本的方法

<pre><code class="yaml"># A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called &quot;build&quot;
  deploy:
    runs-on: $&#123;&#123; matrix.os &#125;&#125;
    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-latest]
        node-version: [12]

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
    - uses: actions/checkout@v2
    
    # 这里指定node版本
    - name: Setup node 12
      uses: actions/setup-node@v2
      with:
        node-version: 12.x

    # check env version
    - name: check node version
      run: node --version
    
    - name: check npm version
      run: npm --version
</code></pre>
]]></content>
      <tags>
        <tag>github action</tag>
      </tags>
  </entry>
  <entry>
    <title>网页版扫雷</title>
    <url>/2019/09/27/%E7%BD%91%E9%A1%B5%E7%89%88%E6%89%AB%E9%9B%B7/</url>
    <content><![CDATA[<h2 id="网页版扫雷"><a href="#网页版扫雷" class="headerlink" title="网页版扫雷"></a>网页版扫雷</h2><p>代码地址： <a href="https://github.com/aih8/blog/blob/hexo/source/inject/algorithm/lession1.html">https://github.com/aih8/aih8.github.io/blob/hexo/source/inject/algorithm/lession1.html</a><br>体验地址： <a href="/inject/algorithm/lession1.html">&#x2F;inject&#x2F;algorithm&#x2F;lession1.html</a></p>
]]></content>
      <tags>
        <tag>js</tag>
        <tag>扫雷</tag>
        <tag>网页版</tag>
      </tags>
  </entry>
</search>
